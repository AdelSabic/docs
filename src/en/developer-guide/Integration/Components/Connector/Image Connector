# Working with Image connector

Image connector can work with:
1.  URL of source image
2.  Base64 - e.g. output of "Get file or image content" action in PowerAutomate

With image connector you can transform several properties of the image:
1. Width and Height - in pixels. If desired resolution changes aspect ratio of image, the result will be stretched. If you do not want stretched images, insert resolution that has same aspect ratio as original image. See example of common resolutions for 16:9 aspect ratio [here](https://en.wikipedia.org/wiki/16:9_aspect_ratio#Common_resolutions)
2. DPI - must be calculated to specific needs. E.g. when printing on A4, you probably won't need more than 300dpi 
3. Quality - from 0 (maximum compression) to 100 (original quality).



## Step 1: Get the image record and check that it contains file
In this example we will be using image from Dataverse.
![Annotation 2021-01-05 095915.png](/.attachments/Annotation%202021-01-05%20095915-8743d12f-18c4-4f62-b126-6386047aa9b2.png)

## Step 2: Insert the base64 of image to the Image connector
Be sure to check you have base64 of the image as input. You will most likely not be able to use dynamic content from previous action. You will have to parse it first or use an expression.
In example here, we are using an expression below, which is almost same as what you get from dynamic content, but it specifies the path to base64 of image in JSON output.
_**outputs('Get_image_content')?['body/$content']**_ 

Secondly, to work with output of image connector you will HTTP action. Method Get and URI is body of image connector output. You will be using output of this HTTP action for further work with image.
![Annotation 2021-01-05 095916.png](/.attachments/Annotation%202021-01-05%20095916-79c7de63-073e-428b-91ee-a6d1c3bb54aa.png)

## Step 3: Work with image
Now you are free to use the transformed image as you wish. The image itself can be again access through expression or parsed JSON. Expression to base64 of image is below:
**outputs('HTTP')?['body']['$content'])**

In our case we are adding it to an array of images through expression bellow:
**setProperty(variables('Helper image variable'), 'value', outputs('HTTP')?['body']['$content'])**

![Annotation 2021-01-05 095917.png](/.attachments/Annotation%202021-01-05%20095917-218500e2-2ad0-4630-9708-4ca9c22fc7ae.png)
